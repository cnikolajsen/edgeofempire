<%= form_for @character, :html => { :class => 'form-horizontal' } do |f| %>
<% if @character.errors.any? %>
<div id="error_explanation">
  <h2><%= pluralize(@character.errors.count, "error") %> prohibited this character from being saved:</h2>

  <ul>
  <% @character.errors.full_messages.each do |msg| %>
    <li><%= msg %></li>
  <% end %>
  </ul>
</div>
<% end %>

  <div class="control-group">
    <%= f.label :name, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :name, :class => 'text_field' %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :race_id, :class => 'control-label' %>
    <div class="controls">
      <%= select('character', 'race_id', Race.find(:all).collect  {|race| [race.name, race.id]}, {:prompt => "Select species"}) %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :gender, :class => 'control-label' %>
    <div class="controls">
      <%= f.radio_button :gender, 'Male', :class => 'text_field' %> Male
      <%= f.radio_button :gender, 'Female', :class => 'text_field' %> Female
    </div>
  </div>
  <div class="control-group">
    <%= f.label :age, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :age, :class => 'text_field' %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :height, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :height, :class => 'text_field' %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :build, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :build, :class => 'text_field' %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :hair, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :hair, :class => 'text_field' %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :eyes, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :eyes, :class => 'text_field' %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :notable_features, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_area :notable_features, :class => 'text_area' %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :other, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_area :other, :class => 'text_area' %>
    </div>
  </div>
  
  <div class="control-group">
    <%= f.label :career_id, :class => 'control-label' %>
    <div class="controls">
      <%= select('character', 'career_id', Career.find(:all).collect  {|career| [career.name, career.id]}, {:prompt => "Select career"}) %>
    </div>
  </div>
  <% unless f.object.race_id.nil? || @character.race.nil? %>
    <div class="control-group">
      <%= f.label :brawn, :class => 'control-label' %>
      <div class="controls">
        <%= f.number_field :brawn, :in => @character.race.brawn...7, :class => 'number_field' %>
      </div>
    </div>
    <div class="control-group">
      <%= f.label :agility, :class => 'control-label' %>
      <div class="controls">
        <%= f.number_field :agility, :in => @character.race.agility...7, :class => 'number_field' %>
      </div>
    </div>
    <div class="control-group">
      <%= f.label :intellect, :class => 'control-label' %>
      <div class="controls">
        <%= f.number_field :intellect, :in => @character.race.intellect...7, :class => 'number_field' %>
      </div>
    </div>
    <div class="control-group">
      <%= f.label :cunning, :class => 'control-label' %>
      <div class="controls">
        <%= f.number_field :cunning, :in => @character.race.cunning...7, :class => 'number_field' %>
      </div>
    </div>
    <div class="control-group">
      <%= f.label :willpower, :class => 'control-label' %>
      <div class="controls">
        <%= f.number_field :willpower, :in => @character.race.willpower...7, :class => 'number_field' %>
      </div>
    </div>
    <div class="control-group">
      <%= f.label :presence, :class => 'control-label' %>
      <div class="controls">
        <%= f.number_field :presence, :in => @character.race.presence...7, :class => 'number_field' %>
      </div>
    </div>
    <div class="control-group">
      <%= f.label :experience, :class => 'control-label' %>
      <div class="controls">
        <%= f.number_field :experience, :min => 0, :class => 'number_field' %>
      </div>
    </div>
  <% end %>
  <div class="control-group">
    <%= f.label :credits, :class => 'control-label' %>
    <div class="controls">
      <%= f.number_field :credits, :min => 0, :class => 'number_field' %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :bio, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_area :bio, :class => 'text_area' %>
    </div>
  </div>
  
  <div class="form-actions">
    <%= f.submit nil, :class => 'btn btn-primary' %>
    <%= link_to t('.cancel', :default => t("helpers.links.cancel")),
                characters_path, :class => 'btn' %>
  </div>
<% end %>
