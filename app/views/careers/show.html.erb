<%- model_class = Career -%>
<div class="page-header">
  <h1><%=t '.title', :default => @career.name %></h1>
</div>

<p>
<%= @career.description.html_safe %>
</p>

<h2>Specializations</h2>
<% @career.talent_trees.each do |tree| %>
<div class="well">
  <strong><%= tree.name %></strong><br />
  <%= tree.description.html_safe %>
  <table class="table table-striped talent-tree">
    <colgroup>
      <col width="22%" />
      <col width="4%" />
      <col width="22%" />
      <col width="4%" />
      <col width="22%" />
      <col width="4%" />
      <col width="22%" />
    </colgroup>
    <tr>
      <td>
        <% if !tree.talent_1_1.nil? %>
          <strong><%= Talent.find_by_id(tree.talent_1_1).name %></strong><br />
          <%= text_replace_tokens(Talent.find_by_id(tree.talent_1_1).description) %>
        <% end%>
      </td>
      <td></td>
      <td>
        <% if !tree.talent_1_2.nil? %>
          <strong><%= Talent.find_by_id(tree.talent_1_2).name %></strong><br />
          <%= text_replace_tokens(Talent.find_by_id(tree.talent_1_2).description) %>
        <% end%>
      </td>
      <td></td>
      <td>
        <% if !tree.talent_1_3.nil? %>
          <strong><%= Talent.find_by_id(tree.talent_1_3).name %></strong><br />
          <%= text_replace_tokens(Talent.find_by_id(tree.talent_1_3).description) %>
        <% end%>
      </td>
      <td></td>
      <td>
        <% if !tree.talent_1_4.nil? %>
          <strong><%= Talent.find_by_id(tree.talent_1_4).name %></strong><br />
          <%= text_replace_tokens(Talent.find_by_id(tree.talent_1_4).description) %>
        <% end%>
      </td>
    </tr>
    <tr>
      <td class='vertical-link link-<%= tree.talent_2_1_require_1_1.to_s %>'></td>
      <td></td>
      <td class='vertical-link link-<%= tree.talent_2_2_require_1_2.to_s %>'></td>
      <td></td>
      <td class='vertical-link link-<%= tree.talent_2_3_require_1_3.to_s %>'></td>
      <td></td>
      <td class='vertical-link link-<%= tree.talent_2_4_require_1_4.to_s %>'></td>
    </tr>
    <tr>
      <td>
        <% if !tree.talent_2_1.nil? %>
          <strong><%= Talent.find_by_id(tree.talent_2_1).name %></strong><br />
          <%= text_replace_tokens(Talent.find_by_id(tree.talent_2_1).description) %>
        <% end %>
      </td>
      <td class='horizontal-link link-<%= tree.talent_2_1_require_2_2.to_s %>'></td>
      <td>
        <% if !tree.talent_2_2.nil? %>
          <strong><%= Talent.find_by_id(tree.talent_2_2).name %></strong><br />
          <%= text_replace_tokens(Talent.find_by_id(tree.talent_2_2).description) %>
        <% end %>
      </td>
      <td class='horizontal-link link-<%= tree.talent_2_2_require_2_3.to_s %>'></td>
      <td>
        <% if !tree.talent_2_3.nil? %>
          <strong><%= Talent.find_by_id(tree.talent_2_3).name %></strong><br />
          <%= text_replace_tokens(Talent.find_by_id(tree.talent_2_3).description) %>
        <% end %>
      </td>
      <td class='horizontal-link link-<%= tree.talent_2_3_require_2_4.to_s %>'></td>
      <td>
        <% if !tree.talent_2_4.nil? %>
          <strong><%= Talent.find_by_id(tree.talent_2_4).name %></strong><br />
          <%= text_replace_tokens(Talent.find_by_id(tree.talent_2_4).description) %>
        <% end %>
      </td>
    </tr>
    <tr>
      <td class='vertical-link link-<%= tree.talent_3_1_require_2_1.to_s %>'></td>
      <td></td>
      <td class='vertical-link link-<%= tree.talent_3_2_require_2_2.to_s %>'></td>
      <td></td>
      <td class='vertical-link link-<%= tree.talent_3_3_require_2_3.to_s %>'></td>
      <td></td>
      <td class='vertical-link link-<%= tree.talent_3_4_require_2_4.to_s %>'></td>
    </tr>
    <tr>
      <td>
        <% if !tree.talent_3_1.nil? %>
          <strong><%= Talent.find_by_id(tree.talent_3_1).name %></strong><br />
          <%= text_replace_tokens(Talent.find_by_id(tree.talent_3_1).description) %>
        <% end %>
      </td>
      <td class='horizontal-link link-<%= tree.talent_3_1_require_3_2.to_s %>'></td>
      <td>
        <% if !tree.talent_3_2.nil? %>
          <strong><%= Talent.find_by_id(tree.talent_3_2).name %></strong><br />
          <%= text_replace_tokens(Talent.find_by_id(tree.talent_3_2).description) %>
        <% end %>
      </td>
      <td class='horizontal-link link-<%= tree.talent_3_2_require_3_3.to_s %>'></td>
      <td>
        <% if !tree.talent_3_3.nil? %>
          <strong><%= Talent.find_by_id(tree.talent_3_3).name %></strong><br />
          <%= text_replace_tokens(Talent.find_by_id(tree.talent_3_3).description) %>
        <% end %>
      </td>
      <td class='horizontal-link link-<%= tree.talent_3_3_require_3_4.to_s %>'></td>
      <td>
        <% if !tree.talent_3_4.nil? %>
          <strong><%= Talent.find_by_id(tree.talent_3_4).name %></strong><br />
          <%= text_replace_tokens(Talent.find_by_id(tree.talent_3_4).description) %>
        <% end %>
      </td>
    </tr>
    <tr>
      <td class='vertical-link link-<%= tree.talent_4_1_require_3_1.to_s %>'></td>
      <td></td>
      <td class='vertical-link link-<%= tree.talent_4_2_require_3_2.to_s %>'></td>
      <td></td>
      <td class='vertical-link link-<%= tree.talent_4_3_require_3_3.to_s %>'></td>
      <td></td>
      <td class='vertical-link link-<%= tree.talent_4_4_require_3_4.to_s %>'></td>
    </tr>
    <tr>
      <td>
        <% if !tree.talent_4_1.nil? %>
          <strong><%= Talent.find_by_id(tree.talent_4_1).name %></strong><br />
          <%= text_replace_tokens(Talent.find_by_id(tree.talent_4_1).description) %>
        <% end %>
      </td>
      <td class='horizontal-link link-<%= tree.talent_4_1_require_4_2.to_s %>'></td>
      <td>
        <% if !tree.talent_4_2.nil? %>
          <strong><%= Talent.find_by_id(tree.talent_4_2).name %></strong><br />
          <%= text_replace_tokens(Talent.find_by_id(tree.talent_4_2).description) %>
        <% end %>
      </td>
      <td class='horizontal-link link-<%= tree.talent_4_2_require_4_3.to_s %>'></td>
      <td>
        <% if !tree.talent_4_3.nil? %>
          <strong><%= Talent.find_by_id(tree.talent_4_3).name %></strong><br />
          <%= text_replace_tokens(Talent.find_by_id(tree.talent_4_3).description) %>
        <% end %>
      </td>
      <td class='horizontal-link link-<%= tree.talent_4_3_require_4_4.to_s %>'></td>
      <td>
        <% if !tree.talent_4_4.nil? %>
          <strong><%= Talent.find_by_id(tree.talent_4_4).name %></strong><br />
          <%= text_replace_tokens(Talent.find_by_id(tree.talent_4_4).description) %>
        <% end %>
      </td>
    </tr>
  </table>
</div>
<% end %>

<div class="form-actions">
  <%= link_to t('.back', :default => t("helpers.links.back")),
              careers_path, :class => 'btn'  %>
</div>
